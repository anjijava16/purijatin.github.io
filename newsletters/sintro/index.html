<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8">
    <style>
      body {
        font-family: 'Droid Serif';
      }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: 400;
        margin-bottom: 0;
      }
      .remark-slide-content h1 { font-size: 3em; }
      .remark-slide-content h2 { font-size: 2em; }
      .remark-slide-content h3 { font-size: 1.6em; }
      .footnote {
        bottom: 3em;
      }
      li p { line-height: 1.25em; }
      .red { color: #fa0000; }
      .large { font-size: 2em; }
      a, a > code {
        color: rgb(249, 38, 114);
        text-decoration: none;
      }
      code {
        background: #e7e8e2;
        border-radius: 5px;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .remark-code-line-highlighted     { background-color: #373832; }
      .pull-left {
        float: left;
        width: 47%;
      }
      .pull-right {
        float: right;
        width: 47%;
      }
      .pull-right ~ p {
        clear: both;
      }
      #slideshow .slide .content code {
        font-size: 0.8em;
      }
      #slideshow .slide .content pre code {
        font-size: 0.9em;
        padding: 15px;
      }
      .inverse {
        background: #103a51;
        color: #777872;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }

      /* Slide-specific styling */
      #slide-inverse .footnote {
        bottom: 12px;
        left: 20px;
      }
      #slide-how .slides {
        font-size: 0.9em;
        position: absolute;
        top:  151px;
        right: 140px;
      }
      #slide-how .slides h3 {
        margin-top: 0.2em;
      }
      #slide-how .slides .first, #slide-how .slides .second {
        padding: 1px 20px;
        height: 90px;
        width: 120px;
        -moz-box-shadow: 0 0 10px #777;
        -webkit-box-shadow: 0 0 10px #777;
        box-shadow: 0 0 10px #777;
      }
      #slide-how .slides .first {
        background: #fff;
        position: absolute;
        top: 20%;
        left: 20%;
        z-index: 1;
      }
      #slide-how .slides .second {
        position: relative;
        background: #fff;
        z-index: 0;
      }

      /* Two-column layout */
      .left-column {
        color: #ccd6dd;
        width: 20%;
        font-size: 12pt;
        /*height: 92%;*/
        float: left;
      }
        .left-column h2:last-of-type, .left-column h3:last-child {
          color: #000;
        }
      .right-column {
        width: 75%;
        float: right;
        padding-top: 1em;
      }
    </style>
  </head>
  <body>
    <textarea id="source">



class: center, middle, inverse

![Scala](smooth-spiral.png "Scala") 

#Pitch for Scala


@purijatin7[](https://twitter.com/purijatin7)

---

layout: false
.left-column[
  ## Overview
]
.right-column[
Some Background:
  
- Working primarily in Scala since 2012

- Minor contributor to Scala [Macros](http://scalamacros.org/paperstalks/2014-06-17-EasyMetaprogrammingForEveryone.pdf#page=62)

- ~15k points on [Stackoverflow](http://stackoverflow.com/users/894565/jatin) primarily in Scala

- Very Involved with community (SIP, SLIP, gitter channels, google groups etc)

- Trainer/Consultant with Lightbend Inc
]

---


class: middle

##BDD using ScalaTest

```scala
class ExampleSpec extends FlatSpec with Matchers {

  "A Stack" should "pop values in last-in-first-out order" in {
    val stack = new Stack[Int]
    stack.push(1)        
    stack.push(2)        
    stack.pop() should be (2)
    stack.pop() should be (1)
  }

  it should "throw NoSuchElementException if an empty stack is popped" in {
    val emptyStack = new Stack[Int]
    a [NoSuchElementException] should be thrownBy emptyStack.pop()    
  }
}
```

---

class: middle

##Spray

```js
startServer(interface = "localhost", port = 8080) {
    path("hello") {
      get {
        complete {
          <html>
            <body>
              Hello <a href="https://en.wikipedia.org/wiki/%22Hello,_World!%22_program">World!</a>
            </body>
          </html>
        }
      }
    } 
    ~
    path("orders") {
      authenticate(BasicAuth(realm = "admin area")) { user =>
        get {
          cache(simpleCache) {     
            complete {
                // marshal custom object with in-scope marshaller
                getOrdersFromDB
            }
          }          
        }
      }
    }
  }
  
```

---

class: middle
##Scala implementation of BASIC
[https://github.com/fogus/baysick](https://github.com/fogus/baysick)

```scala
   object Lunar extends Baysick {
      def main(args:Array[String]) = {
        10 LET ('dist := 100)
        20 LET ('v := 1)
        30 LET ('fuel := 1000)
        40 LET ('mass := 1000)
        50 PRINT "You are a in control of a lunar lander."
        60 PRINT "You are drifting towards the surface of the moon."
        70 PRINT "Each turn you must decide how much fuel to burn."
        80 PRINT "To accelerate enter a positive number, to decelerate a negative"

        90 PRINT "Distance " % 'dist % "km, " % "Velocity " % 'v % "km/s, " % "Fuel " % 'fuel
        100 INPUT 'burn
        110 IF ABS('burn) <= 'fuel THEN 150
        120 PRINT "You don't have that much fuel"
        130 GOTO 100
        140 LET ('v := 'v + 'burn * 10 / ('fuel + 'mass))
        150 LET ('fuel := 'fuel - ABS('burn))
        160 LET ('dist := 'dist - 'v)
        170 IF 'dist > 0 THEN 100
        180 PRINT "You have hit the surface. Crashed!"        
        190 GOTO 230
        200 PRINT "Well done"
        210 END

        RUN
      }
    }
```


---

class: center

![Star Wars Comics](Star_Wars_001_1977.jpeg "Star Wars")

Total number of Standard Issues: 1,033

---


class: middle

##Get the # of pages of the biggest Issue 
.center[(big by number of pages)]
```java
    /**
     * Returns the size of the biggest comic (by number of pages)
     * @param books List of Comics
     * @return Integer - Number of pages of comic with maximum pages
     */
    public static Future<Integer> getAsyncMaxHits(List<StarWarsComic> comics) throws Exception {
      ....
    }
```
---

class: middle

##Pre Java8 World
```java
public static Future<Integer> getAsyncMaxHits(List<StarWarsComic> comics) throws Exception {
    if (comics.isEmpty())
        throw new IllegalArgumentException();
    ArrayList<Future<Integer>> futures = new ArrayList<>();
    for (StarWarsComic comic : comics) {
        futures.add(executor.submit(new Callable<Integer>() {
          @Override
            public Integer call() throws Exception {
                return comic.getNumberOfPages();
            }
        }));
    }

    return executor.submit(new Callable<Integer>() {
        @Override
        public Integer call() throws Exception {
            int max = -1;
            for (Future<Integer> future : futures) {
                int num = future.get();
                if (num > max)
                    max = num;
            }
            return max;
        }
    });
}

```
---

class: middle

##Java8
```java
public static Future<Integer> getAsyncMaxHits2(List<StarWarsComic> comics) throws Exception {
    if (comics.isEmpty())
        throw new IllegalArgumentException();
    List<CompletableFuture<Integer>> futures = comics
            .stream()
            .map(x -> CompletableFuture.supplyAsync(x::getNumberOfPages, executor))
            .collect(Collectors.toList());

    CompletableFuture<Void> allOf = CompletableFuture.allOf(
		      futures.toArray(new CompletableFuture[comics.size()]));
 
    return allOf.thenApply(x -> futures.stream().map(y -> {
        try {
            return y.get();
        } catch (Exception e) {
            throw new RuntimeException();
        }
    }).max(Integer::max).get());
}
```
---
class: middle

##Scala
```scala
  import scala.concurrent.ExecutionContext.Implicits.global
  
  def getAsyncMaxHits(comics: List[StarWarsComic]) : Future[Int] = {
    val futures = for(i<- comics) yield Future{i.getNumberOfPages}
    Future.sequence(futures).map(x => x.max)
  }
```

---
class: middle, center, inverse
  #Abstractions
  #Syntactic Sugar
<br><br><br><br>
.footnote[![as](Bwy8o0cCMAESRBc.jpg)]

---

.left-column[
  ## Intro  
  ## Scala? 
]
.right-column[
Elevator Pitch:
  - Its fun
  - Its fast
  - It runs on a great VM (JVM)
  - Commercially has done decent. Encouraging Signs  
  - REPL<br><br>
      <img src="repl.png" alt="REPL" width="100%"/>
      <br><br>
  - Seamless interoperability with Java  <br>
  - Scala.js
]


---

.left-column[
  ## Intro  
  ## Scala? 
]

.right-column[
  - Multi-Paradigm ([Grand Unified Theory](http://www.drdobbs.com/architecture-and-design/interview-with-scalas-martin-odersky/231001802))
      * Pure-bred Object Oriented      
      * Functional 
      <br><br><br><br>
  <img src="scala.png" alt="REPL" width="100%"/>
  ]

---
.left-column[
  ## Intro  
  ## Scala
  ## Pitch
]
.right-column[
Scala
  - Statically typed, yet feels like dynamic
    ```scala
    val ls = List(1,2,3) 
    //`ls` is automatically inferred as `List[Int]`

    val animals = List(new Cat, new Dog)
    //`animals` is automatically inferred as `List[Animal]`

    def func = if(skyIsBlue) new Dog else new Cat
    //return type of `func` is automatically inferred as `Animal`

    //Compiler is your friend. Not a baggage
  ```

  - Stress on Immutability
  ```scala
    package scala.collection.immutable //default
    package scala.collection.mutable
  ```

  - Nominal Typing yet flavors of Structural
  ```scala
   def quacker(duck: {def quack(value: String): String}) {
      println (duck.quack("Quack"))
  }
  quacker("hi")//compiler error  
  ```

 
]
---


.left-column[
  ## Intro  
  ## Scala
  ## Pitch
]
.right-column[

  - Traits
    ```scala
    abstract class Animal

      class Bird extends Animal {
        def fly: String = "I am flying!"
      }
      trait Swimmer {
        def swim: String = "I am swimming!"
      }

      class Fish extends Animal with Swimmer
      class Duck extends Bird with Swimmer //mix in
    ``` 

  - There is more to it:

    ```scala
      trait Log{
        def log(msg:String) = println(msg)
      }
      trait Cache{ log: Log =>
        //...
      }

      class A extends Cache // compiler error
      class A extends Cache with Log

    ```
]
---


.left-column[
  ## Intro  
  ## Scala
  ## Pitch
]
.right-column[
Scala
  - Functions as First Class Citizens
  ```scala
    def func(f : Int => String) = f(1)

    def toStr(n:Int) = n.toString
    func(toStr)

    func((x:Int) => x.toString)
  
    List(1,2,3) map (x => x*x) //returns List(1,4,9)

  ```

  - Currying

  ```scala
    def sum(a:Int)(b:Int) = a + b

    val partial: (Int => Int) = sum(1)
    partial(2) //returns 3
  ```  
]
---


.left-column[
  ## Intro  
  ## Scala
  ## Pitch
]
.right-column[
Syntactic Sugar
  - case class
  
  ```scala
      case class Person(var name:String, var num:Int)
  ```
  ----
  ```java
      public class Person {
        public Person(String, int); //constructor
        
        public String getName();
        public String setName(String name);
        public String getNum();
        public String setNum(int num);
        public int hashCode();
        public String toString();
        public boolean equals(Object);
        public Person copy(java.lang.String, int);
        //Person("Steven",1).copy(name = "Gerrard")
        //...
    }

  ```
  - Tuples
    ```scala
      scala> (1,"hi")
      res9: (Int, String) = (1,hi)

      scala> (1,"hi",new Cat)
      res11: (Int, String, Cat) = (1,hi,Cat@7a247711)
    ```
]
---
.left-column[
  ## Intro
  ## Scala
  ## Pitch
]
.right-column[
Not Sold yet?
### A few of Scala's language features

* Java interoperability
* Singleton objects
* Generics (with variance)
* Type classes
* Implicit values and conversions
* Monadic for-comprehensions
* Pattern matching
* By Name Parameters
* Flexibility with Access Modifiers
* Structural types
* Existential types
* Path-dependent types
* Macros
* Value Classes
] 

---
.left-column[
  ## Intro
  ## Scala
  ## Pitch
  ## PotHoles
]
.right-column[
PotHoles
  - Not Backward Compatible (Will change in future)
  - Slow Compilation speed
  - With great power comes ...
    ```scala
    //Lots of ways to do everything
    //All below are equivalent
    val inc1 = (i: Int) => i + 1
    val inc2 = (_: Int) + 1
    val inc3: Int => Int = _ + 1
    val inc4: Int ⇒ Int = _ + 1
    val inc5 = new Function1[Int, Int] {
    def apply(i: Int) = i + 1
    ```
  - Steep learning curve (If from non-functional programming background)
  - Thou shalt `Never try calling Scala code from Java`

] 

---

class:  middle, inverse

##"But I don't want to go among mad people," Alice remarked.

##"Oh, you can't help that," said the Cat: "we're all mad here. I'm mad. You're mad."

##"How do you know I'm mad?" said Alice.

##"You must be," said the Cat, "or you wouldn't have come here."

--Lewis Carroll, "Alice's Adventures in Wonderland"

----------

####.center[I enjoy programming again!]

    </textarea>
    <script src="remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create({
        highlightStyle: 'idea'
      });
    </script>
  </body>
</html>

